---
import MainLayout from "@/layouts/main.astro"
import profile from '@/assets/profile.png';
import LightboxImage from '@/components/LightboxImage.astro';
import GalleryGrid from "@/components/gallery/GalleryGrid.astro";
import type { GalleryManifest } from "@/features/gallery/types";

import manifestJson from "@/generated/gallery.manifest.json";

const pageTitle = 'Subhajit Kundu';
const pageDescription = 'Building tooling for creation robust RAG systems at scale. Developing software at Betterstacks; designing web experiences that last.';
const canonical = Astro.url.href;
const ogImage = (profile as any).src ?? (profile as any);

const manifest = manifestJson as unknown as GalleryManifest;
const galleryPhotos = Array.isArray(manifest?.photos) ? manifest.photos : [];

const personJsonLd = {
	"@context": "https://schema.org",
	"@type": "Person",
	name: "Subhajit Kundu",
	url: canonical,
	image: ogImage,
	description: pageDescription,
};
---

<MainLayout seo={{
	title: pageTitle,
	description: pageDescription,
	canonical,
	robots: 'index,follow',
	openGraph: {
		title: pageTitle,
		description: pageDescription,
		image: ogImage,
		type: 'website',
		siteName: 'Subhajit Kundu',
	},
	twitter: {
		card: 'summary_large_image',
		title: pageTitle,
		description: pageDescription,
		image: ogImage,
	},
	jsonLd: personJsonLd,
}}>
	<div class="px-6 sm:px-10 md:px-16 lg:px-24 py-20 lg:py-32 max-w-[850px] mx-auto">
		<div class="reveal-children">
			<LightboxImage src={profile} alt="Subhajit Kundu" class="w-20 h-20 sm:w-24 sm:h-24 rounded-full" dialogId="profile" />
			<h1 class="mt-4">Subhajit Kundu</h1>
			<p class="mt-2 lg:mt-8 text-sm">Building tooling for developing robust, reliable RAG system at scale. Dedicated on making RAG as easy as writing six lines of code. Shipping software at <a href="https://betterstacks.com" target="_blank">Betterstacks</a></p>

			<section class="mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 lg:gap-4">
				<div>
					<p class="text-xs opacity-60 uppercase mb-2 lg:mb-4">Building</p>
					<div>
						<div>
							<a href="https://unrag.dev" target="_blank">Unrag</a>
							<p class="mt-2 opacity-60">Build your own RAG in six lines of code.</p>
						</div>
					</div>
				</div>

				<div>
					<p class="text-xs opacity-60 uppercase mb-2 lg:mb-4">Projects</p>
					<div class="space-y-2 lg:space-y-4">
						<div>
							<a href="https://halycron.space" target="_blank">Halycron</a>
							<p class="mt-2 opacity-60">Encrypted photo storage for most precious memories.</p>
						</div>
						<div>
							<a href="https://letraz.app" target="_blank">Letraz</a>
							<p class="mt-2 opacity-60">Craft unique resumes for each job application.</p>
						</div>
						<div>
							<a href="https://varnan.site" target="_blank">Varnan</a>
							<p class="mt-2 opacity-60">Automate workflow between Github & Linear.</p>
						</div>
					</div>
				</div>

				<div>
					<p class="text-xs opacity-60 uppercase mb-4">Work</p>
					<div class="space-y-2 lg:space-y-4">
						<div>
							<a href="https://rize.so" target="_blank">Rize</a>
							<p class="mt-2 opacity-60">One link, your story, not just resume.</p>
						</div>
						<div>
							<a href="https://betterstacks.com" target="_blank">Betterstacks</a>
							<p class="mt-2 opacity-60">Never lose anything you find online, right when you need it.</p>
						</div>
						<div>
							<a href="https://converse.so" target="_blank">Converse</a>
							<p class="mt-2 opacity-60">CRM for businesses that thrive on calls.</p>
						</div>
					</div>
				</div>
			</section>

			<section class="mt-16">
				<p>
					Heads down working on Unrag. Learning new things everyday about better ways to engineer solutions. Obsessed with crafting experiences that lasts in time. Check out here.
				</p>
				<p class="mt-8">
					Web is free, web is beautiful, web is for everyone. Since the last eight years, i have been learning and building on the web. And it has been a journey of profound growth and satisfaction. I see myself building and crafting experiences on web for a long time.
				</p>
				<p class="mt-8">
					Enjoying deep, dark vocals, mixing them with ethereal melodies, creating a world of my own. Enthusiastic about playing guitar, badminton, gym, books and movies that makes your head hurt. And yes, i always enjoy a good cup of coffee.
				</p>
			</section>

            <section class="mt-16">
                <p class="text-xs opacity-60 uppercase mb-2 lg:mb-4">Gallery</p>
                <GalleryGrid photos={galleryPhotos} maxCount={3} hideThirdOnSmall={true} />
                <div class="text-xs opacity-60">
                    <a href="/gallery">View all photographs</a>
                </div>
            </section>

			<section class="mt-16">
				<p class="text-xs opacity-60 uppercase mb-2 lg:mb-4">Education</p>
				<div class="grid grid-cols-1 sm:grid-cols-2 gap-2 lg:gap-4">
					<div>
						<p>Amity University, Noida</p>
						<p class="opacity-60">MCA in Blockchain Technology</p>
					</div>
					<div>
						<p>Kalyani Mahavidyalaya</p>
						<p class="opacity-60">B.Com in Commerce (Financial Accounting)</p>
					</div>
					<div>
						<p>Google LLC.</p>
						<p class="opacity-60">Professional in UX/UI Design</p>
					</div>
					<div>
						<p>Meta LLC.</p>
						<p class="opacity-60">Professional in Frontend Development</p>
					</div>
				</div>
			</section>
		</div>
	</div>
</MainLayout>

<style>
	@keyframes reveal-up {
		0% { opacity: 0; transform: translateY(8px); filter: blur(6px); }
		100% { opacity: 1; transform: translateY(0); filter: blur(0); }
	}

	.reveal-children {
		--reveal-duration: 800ms;
		--reveal-stagger: 0.08s;
	}

	.reveal-children > * {
		opacity: 0;
		transform: translateY(8px);
		filter: blur(6px);
		animation-name: reveal-up;
		animation-duration: var(--reveal-duration);
		animation-timing-function: cubic-bezier(0.2, 0.8, 0.2, 1);
		animation-fill-mode: forwards;
		animation-delay: 0s;
		will-change: opacity, transform, filter;
	}

	.reveal-children > *:nth-child(1) { animation-delay: calc(var(--reveal-stagger) * 0); }
	.reveal-children > *:nth-child(2) { animation-delay: calc(var(--reveal-stagger) * 1); }
	.reveal-children > *:nth-child(3) { animation-delay: calc(var(--reveal-stagger) * 2); }
	.reveal-children > *:nth-child(4) { animation-delay: calc(var(--reveal-stagger) * 3); }
	.reveal-children > *:nth-child(5) { animation-delay: calc(var(--reveal-stagger) * 4); }
	.reveal-children > *:nth-child(6) { animation-delay: calc(var(--reveal-stagger) * 5); }
	.reveal-children > *:nth-child(7) { animation-delay: calc(var(--reveal-stagger) * 6); }
	.reveal-children > *:nth-child(8) { animation-delay: calc(var(--reveal-stagger) * 7); }
	.reveal-children > *:nth-child(9) { animation-delay: calc(var(--reveal-stagger) * 8); }
	.reveal-children > *:nth-child(10) { animation-delay: calc(var(--reveal-stagger) * 9); }
	.reveal-children > *:nth-child(11) { animation-delay: calc(var(--reveal-stagger) * 10); }
	.reveal-children > *:nth-child(12) { animation-delay: calc(var(--reveal-stagger) * 11); }

	@media (prefers-reduced-motion: reduce) {
		.reveal-children > * {
			animation: none !important;
			opacity: 1 !important;
			transform: none !important;
			filter: none !important;
		}
	}
</style>
